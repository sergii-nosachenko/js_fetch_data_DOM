{"version":3,"sources":["scripts/main.js"],"names":["apiUrl","request","endpoint","params","fetch","then","response","ok","json","Promise","reject","Error","status","statusText","getPhones","getDetails","phoneId","getPhonesDetails","phones","getDetailsPromises","forEach","id","push","all","waitingMessage","document","createElement","textContent","body","append","allPhones","remove","list","phone","insertAdjacentHTML","name","catch","error","alert","message"],"mappings":";AAAA,aAEA,IAAMA,EAAS,4DAETC,EAAU,SAACC,GAAUC,IAAAA,EAAS,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAC3BC,OAAAA,MAAMJ,EAASE,EAAUC,GAC7BE,KAAK,SAAAC,GACA,OAACA,EAASC,GAQPD,EAASE,OAPPC,QAAQC,OACb,IAAIC,MACAL,iBAAAA,OAAAA,EAASM,OAAWN,MAAAA,OAAAA,EAASO,WAF5B,qBAWTC,EAAY,WACTb,OAAAA,EAAQ,iBAGXc,EAAa,SAACC,GACXf,OAAAA,EAAmBe,WAAAA,OAAAA,EAA1B,WAGIC,EAAmB,WAChBH,OAAAA,IACJT,KAAK,SAAAa,GACEC,IAAAA,EAAqB,GAIpBV,OAFPS,EAAOE,QAAQ,SAAA,GAAGC,IAAAA,EAAAA,EAAAA,GAASF,OAAAA,EAAmBG,KAAKP,EAAWM,MAEvDZ,QAAQc,IAAIJ,MAInBK,EAAiBC,SAASC,cAAc,KAE9CF,EAAeG,YAAc,qBAC7BF,SAASG,KAAKC,OAAOL,GAErBP,IACGZ,KAAK,SAAAyB,GACJN,EAAeO,SAETC,IAAAA,EAAOP,SAASC,cAAc,MAEpCD,SAASG,KAAKC,OAAOG,GAErBF,EAAUV,QAAQ,SAAAa,GAChBD,OAAAA,EAAKE,mBAAmB,YAChBD,iBAAAA,OAAAA,EAAME,KAFO,sBAMxBC,MAAM,SAAAC,GACLC,MAAMD,EAAME","file":"main.91bb8cc3.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst apiUrl = 'https://mate-academy.github.io/phone-catalogue-static/api';\n\nconst request = (endpoint, params = {}) => {\n  return fetch(apiUrl + endpoint, params)\n    .then(response => {\n      if (!response.ok) {\n        return Promise.reject(\n          new Error(`\n            ${response.status}: ${response.statusText}\n          `)\n        );\n      }\n\n      return response.json();\n    });\n};\n\nconst getPhones = () => {\n  return request('/phones.json');\n};\n\nconst getDetails = (phoneId) => {\n  return request(`/phones/${phoneId}.json`);\n};\n\nconst getPhonesDetails = () => {\n  return getPhones()\n    .then(phones => {\n      const getDetailsPromises = [];\n\n      phones.forEach(({ id }) => getDetailsPromises.push(getDetails(id)));\n\n      return Promise.all(getDetailsPromises);\n    });\n};\n\nconst waitingMessage = document.createElement('p');\n\nwaitingMessage.textContent = 'Fetching phones...';\ndocument.body.append(waitingMessage);\n\ngetPhonesDetails()\n  .then(allPhones => {\n    waitingMessage.remove();\n\n    const list = document.createElement('ul');\n\n    document.body.append(list);\n\n    allPhones.forEach(phone =>\n      list.insertAdjacentHTML('beforeend', `\n        <li>${phone.name}</li>\n      `)\n    );\n  })\n  .catch(error => {\n    alert(error.message);\n  });\n"]}